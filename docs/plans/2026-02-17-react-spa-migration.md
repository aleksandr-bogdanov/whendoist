---
version:
pr:
created: 2026-02-17
---

# React SPA Migration Plan

Complete rewrite of the Whendoist frontend from Jinja2 + vanilla JS to React + TypeScript.

## Tech Stack

| Layer | Tool | Purpose |
|-------|------|---------|
| Framework | React 19 | UI components |
| Compiler | React Compiler | Auto-memoization (Vite plugin) |
| Language | TypeScript (strict) | Type safety |
| Build | Vite 6 | Dev server + bundler |
| Routing | TanStack Router | Type-safe file-based routing |
| Server state | TanStack Query v5 | API caching, optimistic updates |
| Client state | Zustand | UI state (filters, expanded, theme) |
| Styling | Tailwind CSS v4 + shadcn/ui | Utility CSS + accessible components |
| Drag & drop | dnd-kit | Task reorder, reparent, schedule |
| Gestures | @use-gesture/react | Swipe to complete (mobile) |
| Animations | Motion | Task transitions, list reorder |
| Validation | Zod | Forms + runtime type checks |
| Icons | lucide-react | Icon set |
| Encryption | Web Crypto API (ported to TS) | AES-256-GCM E2E |
| PWA | vite-plugin-pwa | Service worker + manifest |
| Linting | Biome | Lint + format (single tool) |
| API codegen | orval | OpenAPI → TS types + Query hooks |
| Charts | Recharts (or ApexCharts React) | Analytics page |

## PR Strategy

3 PRs. Each is deployable. Work happens on a feature branch per PR.

| PR | Version | Scope | Sessions |
|----|---------|-------|----------|
| 1 | v0.47.0 | Foundation + auth + all non-dashboard pages | 4-5 |
| 2 | v0.48.0 | Complete dashboard with all interactions | 5-6 |
| 3 | v0.49.0 | Analytics + delete legacy + CI + docs | 2-3 |

---

## PR 1 — Foundation + Auth + Pages

Branch: `feat/react-spa-foundation`

### Phase 1: Scaffold

**Goal:** Bootable React app with all tooling configured.

**Create:**
```
frontend/
├── index.html
├── package.json              # all deps
├── tsconfig.json             # strict mode
├── vite.config.ts            # React Compiler plugin, vite-plugin-pwa
├── biome.json                # replaces eslint + prettier
├── orval.config.ts           # OpenAPI → TanStack Query hooks
├── tailwind.config.ts        # v4 minimal config (may be unnecessary with v4 auto-detect)
├── components.json           # shadcn/ui config
├── src/
│   ├── main.tsx              # entry point, providers
│   ├── App.tsx               # TanStack Router root
│   ├── routes/               # file-based routing (TanStack Router)
│   │   └── __root.tsx
│   ├── components/ui/        # shadcn/ui base components (button, dialog, sheet, etc.)
│   ├── lib/
│   │   └── utils.ts          # cn() helper for Tailwind
│   └── styles/
│       └── globals.css       # Tailwind directives + CSS custom properties
```

**Install shadcn/ui components:** button, dialog, sheet, dropdown-menu, select, input, textarea, label, checkbox, toggle, tooltip, toast (sonner), separator, badge, tabs, collapsible, popover, command, avatar, switch.

**Key decisions:**
- React Compiler via `babel-plugin-react-compiler` in Vite config
- TanStack Router with file-based routing (code-split per page)
- Tailwind v4 with `@theme` block (replaces tokens.css design variables)
- Biome replaces ESLint + Prettier — one config file

**Done when:** `npm run dev` shows a blank React app at localhost:5173.

---

### Phase 2: API Layer + Crypto + Stores

**Goal:** Type-safe API client, encryption module, and global state stores.

**Reference from old code:** `static/js/crypto.js`, `static/js/passkey.js`, `static/js/error-handler.js`

**Create:**
```
frontend/src/
├── api/                          # ALL generated by orval (DO NOT EDIT)
│   ├── model/                    # TS interfaces from Pydantic schemas
│   └── queries/                  # TanStack Query hooks per router
├── lib/
│   ├── api-client.ts             # axios/fetch instance with interceptors
│   ├── crypto.ts                 # Port of crypto.js (AES-256-GCM, PBKDF2)
│   ├── passkey.ts                # Port of passkey.js (WebAuthn PRF wrapping)
│   └── query-client.ts           # TanStack Query client config (retry, stale time)
├── hooks/
│   ├── use-crypto.ts             # Encryption context hook (decrypt/encrypt boundary)
│   └── use-auth.ts               # Auth state (is logged in, user info)
├── stores/
│   ├── crypto-store.ts           # Zustand: encryption key, enabled, unlock state
│   └── ui-store.ts               # Zustand: theme, sidebar, energy level, sort, filters, view
```

**orval config points at:** `http://localhost:8000/openapi.json` (FastAPI auto-generates)

**Encryption middleware pattern (TanStack Query):**
```
API fetch → raw response (ciphertext in title/description/domain.name)
    ↓
queryFn wrapper decrypts encrypted fields using crypto-store key
    ↓
Query cache holds PLAINTEXT
    ↓
Components read plaintext (never see ciphertext)
    ↓
mutationFn wrapper encrypts before POST/PUT
    ↓
API receives ciphertext
```

**Key decisions:**
- orval generates hooks per router (useTasks, useDomains, usePreferences, etc.)
- Crypto store holds the derived key in memory (mirrors current sessionStorage approach)
- API client auto-redirects to login on 401
- All encrypted field names are typed explicitly to prevent forgetting one

**Done when:** `orval` generates types matching all FastAPI Pydantic schemas. Crypto module passes unit tests (encrypt → decrypt round-trip).

---

### Phase 3: Layout + Theme + Toast + Auth

**Goal:** App shell, dark mode, notifications, login flow.

**Reference from old code:** `app/templates/base.html`, `app/templates/login.html`, `static/js/theme.js`, `static/js/toast.js`

**Create:**
```
frontend/src/
├── routes/
│   ├── __root.tsx                # Root layout with providers
│   ├── _authenticated.tsx        # Auth guard layout (redirects to /login if not authed)
│   ├── _authenticated/
│   │   └── ... (protected pages go here)
│   ├── login.tsx                 # Google OAuth login page
│   └── index.tsx                 # Redirect: logged in → /dashboard, else → /login
├── components/
│   ├── layout/
│   │   ├── app-shell.tsx         # Main layout: header + sidebar + content area
│   │   ├── header.tsx            # Top bar: logo, nav links, user avatar
│   │   ├── sidebar.tsx           # Desktop sidebar (domains list, nav)
│   │   ├── mobile-nav.tsx        # Mobile bottom nav
│   │   └── mobile-tabs.tsx       # Tasks/Schedule tab switcher (mobile only)
│   ├── theme-provider.tsx        # Dark mode via class strategy (Tailwind dark:)
│   ├── encryption-unlock.tsx     # Modal: passphrase input + passkey button
│   └── demo-pill.tsx             # Demo mode indicator (if demo user)
├── hooks/
│   └── use-theme.ts              # Theme toggle hook (system/light/dark)
```

**Auth flow (unchanged from current):**
1. User clicks "Sign in with Google" → redirects to `/auth/google`
2. OAuth callback sets session cookie → redirects to `/dashboard`
3. SPA reads session cookie automatically (same-origin)
4. 401 from any API call → redirect to `/login`

**No CSRF needed for API routes** (confirmed: CSRF middleware only applies to template routes).

**Toast:** Use `sonner` (shadcn/ui's toast recommendation) — drop-in replacement for the custom Toast module.

**Done when:** Login flow works end-to-end. Authenticated layout renders with header, sidebar, dark mode toggle. Unauthenticated users see login page.

---

### Phase 4: Settings + Thoughts + Legal + Wizard

**Goal:** All non-dashboard pages.

**Reference from old code:** `app/templates/settings.html`, `app/templates/thoughts.html`, `app/templates/privacy.html`, `app/templates/terms.html`, `static/js/wizard.js`, `static/js/recurrence-picker.js`

**Create:**
```
frontend/src/
├── routes/_authenticated/
│   ├── settings.tsx              # Preferences, integrations, encryption, data
│   ├── thoughts.tsx              # Quick-capture inbox (tasks without domain)
│   └── dashboard.tsx             # STUB for now: "Dashboard coming in PR 2"
├── routes/
│   ├── privacy.tsx               # Legal (static content)
│   └── terms.tsx                 # Legal (static content)
├── components/
│   ├── settings/
│   │   ├── theme-selector.tsx    # Light/dark/system
│   │   ├── timezone-picker.tsx
│   │   ├── google-calendar.tsx   # Connect/disconnect, calendar toggles
│   │   ├── todoist-import.tsx    # Connect/disconnect, import preview
│   │   ├── encryption-panel.tsx  # Enable/disable E2E encryption, passkey mgmt
│   │   ├── data-panel.tsx        # Backup/restore, snapshots
│   │   └── domain-manager.tsx    # Create/edit/reorder/archive domains
│   ├── wizard/
│   │   └── onboarding-wizard.tsx # 7-step wizard (welcome → summary)
│   └── thoughts/
│       └── thought-list.tsx      # Chat-like bubble list with input
```

**Backend adjustment needed:** Add query param `domain_id=none` to `GET /api/v1/tasks` to filter tasks without a domain (for Thoughts/inbox page). Currently unclear if this is supported.

**Recurrence picker:** Build as a React component. Used in Settings (not yet in dashboard — that's PR 2).

**Done when:** All pages render with real data. Settings toggles persist. Wizard completes and redirects to dashboard stub.

---

### Phase 5: FastAPI SPA Serving + PWA

**Goal:** FastAPI serves the built React app. PWA works.

**Modify:**
```
app/
├── main.py                       # Mount SPA static files, add catch-all route
├── routers/
│   └── pages.py                  # Remove Jinja2 template routes (or keep as redirects)
```

**FastAPI SPA serving pattern:**
```python
# Serve frontend build
app.mount("/assets", StaticFiles(directory="frontend/dist/assets"), name="spa-assets")

# Catch-all: serve index.html for client-side routing
@app.get("/{path:path}")  # AFTER all /api/v1/* routes
async def spa_fallback():
    return FileResponse("frontend/dist/index.html")
```

**PWA config (vite-plugin-pwa):**
- Manifest: app name, icons, theme color (#6D5EF6), standalone display
- Service worker: precache app shell, runtime cache for API responses
- iOS meta tags: apple-touch-icon, apple-mobile-web-app-capable

**Deployment (Railway):**
- Build command: `cd frontend && npm ci && npm run build && cd .. && uv sync`
- Start command: `uv run uvicorn app.main:app` (unchanged)
- Node.js needed for build step — Railway nixpacks detects `package.json`

**Done when:** `npm run build` produces `frontend/dist/`. FastAPI serves it at `/`. All routes work (deep links via SPA fallback). PWA installs on iOS/Android.

---

## PR 2 — Complete Dashboard

Branch: `feat/react-spa-dashboard`

### Phase 6: Task Display — List + Subtrees + Domains

**Goal:** Render the full task list grouped by domain with subtask hierarchy.

**Reference from old code:** `app/templates/_task_list.html`, `app/templates/_task_item.html`, `static/js/task-list-options.js`

**Create:**
```
frontend/src/
├── routes/_authenticated/
│   └── dashboard.tsx             # Replace stub with real dashboard layout
├── components/
│   ├── task/
│   │   ├── task-item.tsx         # Single task: checkbox, title, metadata chips
│   │   ├── task-list.tsx         # Flat list within a domain group
│   │   ├── subtask-tree.tsx      # Recursive subtask rendering with indent
│   │   ├── domain-group.tsx      # Collapsible domain section (icon, color, count)
│   │   ├── scheduled-section.tsx # Scheduled tasks section (collapsible)
│   │   └── completed-section.tsx # Completed tasks section (collapsible, retention)
│   └── dashboard/
│       └── task-panel.tsx        # Left panel: domain groups + sections
```

**Task metadata chips:** duration (formatted), impact (P1-P4 colored), clarity icon, scheduled date, recurring badge, subtask count.

**Encryption:** Components receive plaintext from TanStack Query cache (decrypted in Phase 2's middleware). No `looksEncrypted()` checks anywhere.

**Done when:** Dashboard renders all tasks grouped by domain, subtasks nested correctly, scheduled/completed sections work, expand/collapse persists.

---

### Phase 7: Task CRUD + Sort + Filter + Energy

**Goal:** Create, edit, complete tasks. Sort, filter, view controls.

**Reference from old code:** `static/js/task-dialog.js`, `static/js/task-sheet.js`, `static/js/task-sort.js`, `static/js/task-list-options.js`, `static/js/energy-selector.js`, `static/js/task-complete.js`, `static/js/recurrence-picker.js`

**Create:**
```
frontend/src/
├── components/
│   ├── task/
│   │   ├── task-editor.tsx       # Right-side sheet: full task edit form
│   │   ├── task-quick-add.tsx    # Modal: quick create (title + domain)
│   │   └── recurrence-picker.tsx # Recurrence rule builder (daily/weekly/monthly/custom)
│   ├── dashboard/
│   │   ├── sort-controls.tsx     # Sort by impact/duration/clarity + direction
│   │   ├── filter-bar.tsx        # View chips: Scheduled, Completed toggles
│   │   ├── energy-selector.tsx   # Zombie/Normal/Deep Focus pills
│   │   └── settings-panel.tsx    # Gear menu: retention, hide recurring, restore deleted
```

**Completion with optimistic updates:**
```
User clicks checkbox
    → Zustand: mark completed in UI immediately
    → TanStack Query: mutate API (POST /tasks/{id}/toggle-complete)
    → On success: invalidate task list query
    → On failure: rollback UI + show error toast
    → Cascade: if task has subtasks, complete them too (client-side, confirmed by server)
```

**Energy filter:** CSS-based in current app. In React: filter the task array before rendering. Energy level stored in Zustand ui-store.

**Sort:** Client-side array sort. Default: clarity ASC → impact ASC → duration ASC.

**Done when:** Full CRUD works. Sort/filter/energy controls work. Task editor sheet opens/closes. Recurrence picker works. Optimistic completion with undo toast.

---

### Phase 8: Calendar + Time Slots

**Goal:** Calendar carousel with day columns, time slots, and scheduled task cards.

**Reference from old code:** `app/templates/dashboard.html` (calendar section), `static/js/drag-drop.js` (time slot rendering), `static/js/plan-tasks.js`

**Create:**
```
frontend/src/
├── components/
│   ├── calendar/
│   │   ├── calendar-panel.tsx    # Right panel: calendar carousel
│   │   ├── day-column.tsx        # Single day: header + time slot grid
│   │   ├── time-slot.tsx         # 15-min slot (snap grid for drag targets)
│   │   ├── calendar-event.tsx    # Google Calendar event card
│   │   ├── scheduled-task.tsx    # Whendoist scheduled task card
│   │   ├── time-ruler.tsx        # Left-side hour labels
│   │   └── plan-mode.tsx         # "Plan My Day" auto-scheduler
│   └── dashboard/
│       └── dashboard-layout.tsx  # Split pane: task panel (left) + calendar (right)
├── hooks/
│   ├── use-calendar-events.ts    # Fetch Google Calendar events for date range
│   └── use-plan-tasks.ts         # Auto-schedule algorithm (first-fit bin packing)
```

**Calendar carousel:** Horizontal scroll with CSS scroll-snap. Days centered on today. Swipe between days on mobile.

**Plan mode algorithm (port from plan-tasks.js):**
1. Collect visible unscheduled tasks matching energy filter
2. Sort: date-matched → smaller duration → higher priority
3. Find free slots between existing events
4. First-fit bin packing into available slots

**Done when:** Calendar renders with Google Calendar events + scheduled tasks. Scroll-snap works. Time slots display correctly. Plan mode auto-schedules tasks.

---

### Phase 9: Drag and Drop + Reparent

**Goal:** Drag tasks to reorder, reparent (make subtask), and schedule (drop on calendar).

**Reference from old code:** `static/js/drag-drop.js`, `static/js/task-sort.js` (reorder)

**Create:**
```
frontend/src/
├── components/
│   ├── task/
│   │   ├── task-drag-overlay.tsx  # Custom drag preview
│   │   └── task-dnd-context.tsx   # dnd-kit context + sensors + collision
│   ├── calendar/
│   │   └── calendar-drop-zone.tsx # Drop targets for time slots
├── hooks/
│   ├── use-task-dnd.ts            # Drag-and-drop logic (reorder + reparent + schedule)
│   └── use-task-reorder.ts        # Optimistic reorder with API sync
```

**dnd-kit setup:**
- `PointerSensor` (mouse) + `TouchSensor` (mobile) with activation constraints
- `closestCenter` collision detection for list reorder
- Custom collision for reparent (drop onto another task → make subtask)
- Cross-container drag: task list → calendar (schedule at drop time)

**Three drag operations:**
1. **Reorder:** Drag within task list → update position via API
2. **Reparent:** Drag onto another task → `PUT /tasks/{id}` with new `parent_id`
3. **Schedule:** Drag to calendar time slot → `PUT /tasks/{id}` with `scheduled_date` + `scheduled_time`

**Done when:** All three drag operations work on desktop and mobile. Drag overlay follows cursor. Drop animations play. API sync is optimistic with rollback.

---

### Phase 10: Mobile — Swipe + Tabs + Sheet + Haptics

**Goal:** Full mobile experience: swipe gestures, bottom tabs, action sheet, haptic feedback.

**Reference from old code:** `static/js/task-swipe.js`, `static/js/mobile-tabs.js`, `static/js/mobile-sheet.js`, `static/js/haptics.js`, `static/js/device-detection.js`, `static/js/gesture-discovery.js`, `static/js/sticky-domain.js`, `static/js/mobile-core.js`

**Create:**
```
frontend/src/
├── hooks/
│   ├── use-swipe.ts              # @use-gesture swipe-right (complete) + swipe-left (schedule)
│   ├── use-haptics.ts            # Vibration API patterns (light, success, warning, etc.)
│   ├── use-device.ts             # Device detection (touch, iOS, PWA, viewport)
│   └── use-viewport.ts           # iOS PWA viewport fix (--app-height from screen.height)
├── components/
│   ├── mobile/
│   │   ├── bottom-sheet.tsx      # iOS-style sheet with swipe-to-dismiss
│   │   ├── task-action-sheet.tsx  # Task actions: edit, complete, schedule, delete
│   │   ├── mobile-tabs.tsx       # Tasks/Schedule tab bar (bottom)
│   │   └── sticky-domain.tsx     # Floating domain label on scroll
│   ├── task/
│   │   └── task-swipe-row.tsx    # Wraps task-item with swipe gesture layer
│   └── gesture-discovery.tsx     # First-run swipe hint animation
```

**Swipe gesture (@use-gesture):**
- Swipe right > 130px → complete task + haptic success
- Swipe left → switch to calendar tab
- Visual phases: peek (40px) → commit (100px) → almost (130px)
- Conflict resolution: vertical scroll vs horizontal swipe (first 50ms)

**iOS PWA viewport fix (CRITICAL):**
- Set `--app-height` to `screen.height` in a `<script>` tag in index.html (before React mounts)
- Never use `overflow: hidden` on html/body in standalone mode
- Never use `position: fixed` on page containers
- Never use `100dvh` for heights — use `var(--app-height)`

**Done when:** Swipe-to-complete works on mobile. Bottom tabs switch between tasks/calendar. Action sheet shows on long-press. Haptic feedback fires. iOS PWA viewport is correct.

---

### Phase 11: Keyboard Shortcuts + Animations

**Goal:** Desktop keyboard navigation. Polished animations throughout.

**Reference from old code:** `static/js/shortcuts.js`, various animation CSS

**Create:**
```
frontend/src/
├── hooks/
│   └── use-shortcuts.ts          # Keyboard shortcut registry
├── components/
│   ├── shortcuts-help.tsx        # ? → show shortcut reference modal
│   └── task/
│       └── task-animations.tsx   # Motion: completion, reorder, expand/collapse
```

**Shortcuts:**
- `?` → help modal
- `q` → quick add task
- `n` → new task (editor sheet)
- `j/k` → navigate tasks
- `c` → complete selected
- `e` / `Enter` → edit selected
- `x` → delete selected
- `Escape` → close modal/sheet

**Motion animations:**
- Task completion: slide out + fade
- List reorder: layout animation (Motion's `AnimatePresence` + `layout` prop)
- Subtask expand/collapse: height animation
- Sheet open/close: slide from right
- Toast enter/exit: slide + fade

**Done when:** All shortcuts work. Animations are smooth. No jank on mobile.

**End of PR 2:** Delete ALL legacy frontend code:
- `static/js/*.js` (all 25 modules)
- `static/css/*.css` (all CSS files)
- `app/templates/*.html` (all templates)
- `app/routers/pages.py` (Jinja2 page routes)
- `app/routers/task_editor.py` (HTMX task editor routes)
- Remove `htmx`, `air-datepicker`, `pico.css` vendor files
- Remove `_svg_sprites.html` (use lucide-react instead)

---

## PR 3 — Analytics + Polish

Branch: `feat/react-spa-analytics`

### Phase 12: Analytics Page + API

**Goal:** Stats dashboard with charts.

**Reference from old code:** `app/templates/analytics.html`, `app/services/analytics_service.py`

**Backend addition:** New endpoint `GET /api/v1/analytics?days=7|30|90` returning the same data currently assembled in `pages.py` for the analytics template (daily completions, domain breakdown, heatmap, velocity, etc.)

**Create:**
```
frontend/src/
├── routes/_authenticated/
│   └── analytics.tsx
├── components/
│   └── analytics/
│       ├── stat-card.tsx          # Single metric (total, rate, streak)
│       ├── daily-chart.tsx        # Completions over time (bar/line)
│       ├── domain-breakdown.tsx   # Pie/donut by domain
│       ├── heatmap.tsx            # GitHub-style activity heatmap
│       ├── day-of-week.tsx        # Completions by weekday (bar)
│       └── velocity-chart.tsx     # Completion velocity trend
```

**Chart library:** Recharts (lightweight, React-native) or keep ApexCharts via `react-apexcharts`.

**Done when:** Analytics page shows all charts with real data. Day range selector (7/30/90) works.

---

### Phase 13: CI + Docs + Final Polish

**Goal:** CI pipeline, documentation, version bump.

**Modify:**
```
.github/workflows/              # Add frontend build + type check + lint
CLAUDE.md                       # Add frontend commands section
CHANGELOG.md                    # Migration entry
pyproject.toml                  # Version bump
README.md                       # Update docs index
```

**CI additions:**
```yaml
# In GitHub Actions workflow:
- name: Frontend build
  run: cd frontend && npm ci && npm run build

- name: Frontend type check
  run: cd frontend && npx tsc --noEmit

- name: Frontend lint
  run: cd frontend && npx biome check .
```

**CLAUDE.md additions:**
```bash
# Frontend commands
cd frontend && npm run dev          # Dev server
cd frontend && npm run build        # Production build
cd frontend && npx orval            # Regenerate API types from OpenAPI
cd frontend && npx biome check .    # Lint + format check
cd frontend && npx vitest           # Run tests
```

**Done when:** CI passes. All docs updated. App fully functional with zero legacy code.

---

## Backend Adjustments Needed

Minor additions across PRs (can be done in the same PR that needs them):

| What | Why | When |
|------|-----|------|
| `GET /api/v1/tasks` support `domain_id=none` filter | Thoughts/inbox page needs tasks without domain | PR 1, Phase 4 |
| `GET /api/v1/analytics` new endpoint | Currently server-rendered only, SPA needs JSON | PR 3, Phase 12 |
| SPA catch-all route in `main.py` | Serve `index.html` for all non-API routes | PR 1, Phase 5 |
| Remove Jinja2 page routes | No longer needed after SPA serves all pages | PR 2, Phase 11 |
| HTMX partial routes cleanup | `/api/v1/task-list`, `/api/v1/task-item/{id}`, etc. | PR 2, Phase 11 |

## Risks and Mitigations

| Risk | Mitigation |
|------|------------|
| orval can't parse FastAPI's OpenAPI spec | Run orval early (Phase 2). Fix schema issues in FastAPI if needed. |
| iOS PWA viewport regression | Port the `--app-height` inline script to `index.html`. Test on device. |
| dnd-kit touch conflicts with swipe | Use dnd-kit's `TouchSensor` with `activationConstraint: { delay: 250 }` to distinguish from swipe. |
| Encryption key lost between page navigations | SPA is single-page — no navigations. Key stays in memory (Zustand). Improvement over current sessionStorage approach. |
| Google OAuth redirect returns to old URL | Update OAuth callback to redirect to SPA route (`/dashboard` not the Jinja2 route). |
| Railway build needs Node.js | nixpacks auto-detects `package.json`. May need explicit build command in `railway.toml`. |

## File Deletion Checklist (PR 2)

```
DELETE static/js/                   # All 25 JS modules
DELETE static/css/                  # All CSS files (dashboard, mobile, components, pages, etc.)
DELETE static/vendor/               # htmx, pico, air-datepicker (if exists)
DELETE app/templates/               # All 17+ Jinja2 templates
DELETE app/routers/pages.py         # Jinja2 page routes
DELETE app/routers/task_editor.py   # HTMX task editor routes
DELETE tests/test_js_module_contract.py  # No longer relevant
KEEP   static/manifest.json        # Move to frontend/public/ (PWA manifest)
KEEP   static/icons/               # Move to frontend/public/icons/
KEEP   static/debug-pwa.html       # Useful for debugging, move to frontend/public/
```
